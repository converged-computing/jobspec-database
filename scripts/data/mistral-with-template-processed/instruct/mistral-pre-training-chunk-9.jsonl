{"text": "#!/bin/bash\n#PBS -l walltime=06:00:00\n###PBS -l select=8:ncpus=64:mpiprocs=64:mem=200gb\n#PBS -l select=8:ncpus=64:mpiprocs=32:ompthreads=2:mem=200gb\n\ncd $PBS_O_WORKDIR\nmodule purge\n\nexport OMP_NUM_THREADS=2\nexport MKL_NUM_THREADS=2\n\nfind . -maxdepth 1 ! -name 'run.slurm' -type f -exec rm  {} +\ncp input/* .\n\nmodule load CP2K/2022.1-foss-2022a\n\n# Default CP2K 2022.1\n#cp2k=/gpfs/easybuild/prod/software/CP2K/2022.1-foss-2022a/bin/cp2k.psmp\n\n# CP2K official\n#cp2k=/gpfs/home/cahart/software/cp2k-master/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.1/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.2/exe/local/cp2k.psmp\n\n# CP2K-SMEAGOL\n#cp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private/exe/local/cp2k.psmp\ncp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private-external-blas/exe/local/cp2k.psmp\n\nfind . -maxdepth 1 ! -name '*slurm*' -type f -exec rm  {} +\ncp input/* .\n\nkpoints_bulk=\"2 4 20\"\nkpoints_em=\"2 4 1\"\n\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_bulk/g\"  1_bulkLR.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  2_dft_wfn.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  3_0V.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  4_V.inp\n\nbulk_folder=/gpfs/home/cahart/transport/melamine/au_from-h2/leads/leads-sz_kpoints-2-4-20\ncp $bulk_folder/*bulk* .\nwait\n\n#dft_folder=/gpfs/home/cahart/transport/melamine/au_size-6-6-6/capacitor/dft_kpoints-1-1-20\n#cp $dft_folder/*dft* .\n#wait\n\nHLB=\"$(grep '0.0000000000' bulk-VH_AV.dat | head -1 | awk '{print $2}')\"\n\n#sed -i -e \"s/HLB_REPLACE/${HLB}/g\"  3_0V.inp\n#mpirun $cp2k -i 3_0V.inp -o log_3_0V.out\n\nV=V_REPLACE_JOB\necho $V\nmv 4_V.inp 4_${V}V.inp\nsed -i -e \"s/PROJECT_REPLACE/${V}V/g\" 4_${V}V.inp\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  4_${V}V.inp\nsed -i -e \"s/V_REPLACE/${V}/g\"  4_${V}V.inp\n\nmpirun $cp2k -i 4_${V}V.inp -o log_4_${V}V.out\n"}
{"text": "#!/bin/bash\n#PBS -l walltime=06:00:00\n###PBS -l select=8:ncpus=64:mpiprocs=64:mem=200gb\n#PBS -l select=8:ncpus=64:mpiprocs=32:ompthreads=2:mem=200gb\n\ncd $PBS_O_WORKDIR\nmodule purge\n\nexport OMP_NUM_THREADS=2\nexport MKL_NUM_THREADS=2\n\nfind . -maxdepth 1 ! -name 'run.slurm' -type f -exec rm  {} +\ncp input/* .\n\nmodule load CP2K/2022.1-foss-2022a\n\n# Default CP2K 2022.1\n#cp2k=/gpfs/easybuild/prod/software/CP2K/2022.1-foss-2022a/bin/cp2k.psmp\n\n# CP2K official\n#cp2k=/gpfs/home/cahart/software/cp2k-master/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.1/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.2/exe/local/cp2k.psmp\n\n# CP2K-SMEAGOL\n#cp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private/exe/local/cp2k.psmp\ncp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private-external-blas/exe/local/cp2k.psmp\n\nfind . -maxdepth 1 ! -name '*slurm*' -type f -exec rm  {} +\ncp input/* .\n\nkpoints_bulk=\"2 4 20\"\nkpoints_em=\"2 4 1\"\n\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_bulk/g\"  1_bulkLR.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  2_dft_wfn.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  3_0V.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  4_V.inp\n\nbulk_folder=/gpfs/home/cahart/transport/melamine/au_from-h2/leads/leads-sz_kpoints-2-4-20\ncp $bulk_folder/*bulk* .\nwait\n\n#dft_folder=/gpfs/home/cahart/transport/melamine/au_size-6-6-6/capacitor/dft_kpoints-1-1-20\n#cp $dft_folder/*dft* .\n#wait\n\nHLB=\"$(grep '0.0000000000' bulk-VH_AV.dat | head -1 | awk '{print $2}')\"\n\n#sed -i -e \"s/HLB_REPLACE/${HLB}/g\"  3_0V.inp\n#mpirun $cp2k -i 3_0V.inp -o log_3_0V.out\n\nV=-1.0\necho $V\nmv 4_V.inp 4_${V}V.inp\nsed -i -e \"s/PROJECT_REPLACE/${V}V/g\" 4_${V}V.inp\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  4_${V}V.inp\nsed -i -e \"s/V_REPLACE/${V}/g\"  4_${V}V.inp\n\nmpirun $cp2k -i 4_${V}V.inp -o log_4_${V}V.out\n"}
{"text": "#!/bin/bash\n#PBS -l walltime=06:00:00\n###PBS -l select=8:ncpus=64:mpiprocs=64:mem=200gb\n#PBS -l select=8:ncpus=64:mpiprocs=32:ompthreads=2:mem=200gb\n\ncd $PBS_O_WORKDIR\nmodule purge\n\nexport OMP_NUM_THREADS=2\nexport MKL_NUM_THREADS=2\n\nfind . -maxdepth 1 ! -name 'run.slurm' -type f -exec rm  {} +\ncp input/* .\n\nmodule load CP2K/2022.1-foss-2022a\n\n# Default CP2K 2022.1\n#cp2k=/gpfs/easybuild/prod/software/CP2K/2022.1-foss-2022a/bin/cp2k.psmp\n\n# CP2K official\n#cp2k=/gpfs/home/cahart/software/cp2k-master/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.1/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.2/exe/local/cp2k.psmp\n\n# CP2K-SMEAGOL\n#cp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private/exe/local/cp2k.psmp\ncp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private-external-blas/exe/local/cp2k.psmp\n\nfind . -maxdepth 1 ! -name '*slurm*' -type f -exec rm  {} +\ncp input/* .\n\nkpoints_bulk=\"2 4 20\"\nkpoints_em=\"2 4 1\"\n\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_bulk/g\"  1_bulkLR.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  2_dft_wfn.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  3_0V.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  4_V.inp\n\nbulk_folder=/gpfs/home/cahart/transport/melamine/au_from-h2/leads/leads-sz_kpoints-2-4-20\ncp $bulk_folder/*bulk* .\nwait\n\n#dft_folder=/gpfs/home/cahart/transport/melamine/au_size-6-6-6/capacitor/dft_kpoints-1-1-20\n#cp $dft_folder/*dft* .\n#wait\n\nHLB=\"$(grep '0.0000000000' bulk-VH_AV.dat | head -1 | awk '{print $2}')\"\n\n#sed -i -e \"s/HLB_REPLACE/${HLB}/g\"  3_0V.inp\n#mpirun $cp2k -i 3_0V.inp -o log_3_0V.out\n\nV=1.0\necho $V\nmv 4_V.inp 4_${V}V.inp\nsed -i -e \"s/PROJECT_REPLACE/${V}V/g\" 4_${V}V.inp\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  4_${V}V.inp\nsed -i -e \"s/V_REPLACE/${V}/g\"  4_${V}V.inp\n\nmpirun $cp2k -i 4_${V}V.inp -o log_4_${V}V.out\n"}
{"text": "#!/bin/bash\n#PBS -l walltime=06:00:00\n###PBS -l select=8:ncpus=64:mpiprocs=64:mem=200gb\n#PBS -l select=8:ncpus=64:mpiprocs=32:ompthreads=2:mem=200gb\n\ncd $PBS_O_WORKDIR\nmodule purge\n\nexport OMP_NUM_THREADS=2\nexport MKL_NUM_THREADS=2\n\nfind . -maxdepth 1 ! -name 'run.slurm' -type f -exec rm  {} +\ncp input/* .\n\nmodule load CP2K/2022.1-foss-2022a\n\n# Default CP2K 2022.1\n#cp2k=/gpfs/easybuild/prod/software/CP2K/2022.1-foss-2022a/bin/cp2k.psmp\n\n# CP2K official\n#cp2k=/gpfs/home/cahart/software/cp2k-master/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.1/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.2/exe/local/cp2k.psmp\n\n# CP2K-SMEAGOL\n#cp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private/exe/local/cp2k.psmp\ncp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private-external-blas/exe/local/cp2k.psmp\n\nfind . -maxdepth 1 ! -name '*slurm*' -type f -exec rm  {} +\ncp input/* .\n\nkpoints_bulk=\"2 4 20\"\nkpoints_em=\"2 4 1\"\n\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_bulk/g\"  1_bulkLR.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  2_dft_wfn.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  3_0V.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  4_V.inp\n\nbulk_folder=/gpfs/home/cahart/transport/melamine/au_from-h2/leads/leads-sz_kpoints-2-4-20\ncp $bulk_folder/*bulk* .\nwait\n\n#dft_folder=/gpfs/home/cahart/transport/melamine/au_size-6-6-6/capacitor/dft_kpoints-1-1-20\n#cp $dft_folder/*dft* .\n#wait\n\nHLB=\"$(grep '0.0000000000' bulk-VH_AV.dat | head -1 | awk '{print $2}')\"\n\n#sed -i -e \"s/HLB_REPLACE/${HLB}/g\"  3_0V.inp\n#mpirun $cp2k -i 3_0V.inp -o log_3_0V.out\n\nV=0.0\necho $V\nmv 4_V.inp 4_${V}V.inp\nsed -i -e \"s/PROJECT_REPLACE/${V}V/g\" 4_${V}V.inp\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  4_${V}V.inp\nsed -i -e \"s/V_REPLACE/${V}/g\"  4_${V}V.inp\n\nmpirun $cp2k -i 4_${V}V.inp -o log_4_${V}V.out\n"}
{"text": "#!/bin/bash\n#PBS -l walltime=06:00:00\n###PBS -l select=8:ncpus=64:mpiprocs=64:mem=200gb\n#PBS -l select=8:ncpus=64:mpiprocs=32:ompthreads=2:mem=200gb\n\ncd $PBS_O_WORKDIR\nmodule purge\n\nexport OMP_NUM_THREADS=2\nexport MKL_NUM_THREADS=2\n\nfind . -maxdepth 1 ! -name 'run.slurm' -type f -exec rm  {} +\ncp input/* .\n\nmodule load CP2K/2022.1-foss-2022a\n\n# Default CP2K 2022.1\n#cp2k=/gpfs/easybuild/prod/software/CP2K/2022.1-foss-2022a/bin/cp2k.psmp\n\n# CP2K official\n#cp2k=/gpfs/home/cahart/software/cp2k-master/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.1/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.2/exe/local/cp2k.psmp\n\n# CP2K-SMEAGOL\n#cp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private/exe/local/cp2k.psmp\ncp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private-external-blas/exe/local/cp2k.psmp\n\nfind . -maxdepth 1 ! -name '*slurm*' -type f -exec rm  {} +\ncp input/* .\n\nkpoints_bulk=\"2 4 20\"\nkpoints_em=\"2 4 1\"\n\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_bulk/g\"  1_bulkLR.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  2_dft_wfn.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  3_0V.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  4_V.inp\n\nbulk_folder=/gpfs/home/cahart/transport/melamine/au_from-h2/leads/leads-sz_kpoints-2-4-20\ncp $bulk_folder/*bulk* .\nwait\n\n#dft_folder=/gpfs/home/cahart/transport/melamine/au_size-6-6-6/capacitor/dft_kpoints-1-1-20\n#cp $dft_folder/*dft* .\n#wait\n\nHLB=\"$(grep '0.0000000000' bulk-VH_AV.dat | head -1 | awk '{print $2}')\"\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  3_0V.inp\n\nmpirun $cp2k -i 3_0V.inp -o log_3_0V.out\n\nV=1.0\necho $V\nmv 4_V.inp 4_${V}V.inp\nsed -i -e \"s/PROJECT_REPLACE/${V}V/g\" 4_${V}V.inp\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  4_${V}V.inp\nsed -i -e \"s/V_REPLACE/${V}/g\"  4_${V}V.inp\n\nmpirun $cp2k -i 4_${V}V.inp -o log_4_${V}V.out\n"}
{"text": "#!/bin/bash\n#PBS -l walltime=06:00:00\n###PBS -l select=8:ncpus=64:mpiprocs=64:mem=200gb\n#PBS -l select=8:ncpus=64:mpiprocs=8:ompthreads=8:mem=200gb\n\ncd $PBS_O_WORKDIR\nmodule purge\n\nexport OMP_NUM_THREADS=8\nexport MKL_NUM_THREADS=8\n\nfind . -maxdepth 1 ! -name 'run.slurm' -type f -exec rm  {} +\ncp input/* .\n\nmodule load CP2K/2022.1-foss-2022a\n\n# Default CP2K 2022.1\n#cp2k=/gpfs/easybuild/prod/software/CP2K/2022.1-foss-2022a/bin/cp2k.psmp\n\n# CP2K official\n#cp2k=/gpfs/home/cahart/software/cp2k-master/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.1/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.2/exe/local/cp2k.psmp\n\n# CP2K-SMEAGOL\n#cp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private/exe/local/cp2k.psmp\ncp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private-external-blas/exe/local/cp2k.psmp\n\nfind . -maxdepth 1 ! -name '*slurm*' -type f -exec rm  {} +\ncp input/* .\n\nkpoints_bulk=\"1 1 20\"\nkpoints_em=\"1 1 1\"\n\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_bulk/g\"  1_bulkLR.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  2_dft_wfn.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  3_0V.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  4_V.inp\n\nbulk_folder=/gpfs/home/cahart/transport/melamine/au_from-h2/leads/leads-sz_kpoints-1-1-20-cu\ncp $bulk_folder/*bulk* .\nwait\n\n#dft_folder=/gpfs/home/cahart/transport/melamine/au_size-6-6-6/capacitor/dft_kpoints-1-1-20\n#cp $dft_folder/*dft* .\n#wait\n\nHLB=\"$(grep '0.0000000000' bulk-VH_AV.dat | head -1 | awk '{print $2}')\"\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  3_0V.inp\n\nmpirun $cp2k -i 3_0V.inp -o log_3_0V.out\n\nV=1.0\necho $V\nmv 4_V.inp 4_${V}V.inp\nsed -i -e \"s/PROJECT_REPLACE/${V}V/g\" 4_${V}V.inp\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  4_${V}V.inp\nsed -i -e \"s/V_REPLACE/${V}/g\"  4_${V}V.inp\n\nmpirun $cp2k -i 4_${V}V.inp -o log_4_${V}V.out\n"}
{"text": "#!/bin/bash\n#PBS -l walltime=06:00:00\n###PBS -l select=8:ncpus=64:mpiprocs=64:mem=200gb\n#PBS -l select=8:ncpus=64:mpiprocs=8:ompthreads=8:mem=200gb\n\ncd $PBS_O_WORKDIR\nmodule purge\n\nexport OMP_NUM_THREADS=8\nexport MKL_NUM_THREADS=8\n\nfind . -maxdepth 1 ! -name 'run.slurm' -type f -exec rm  {} +\ncp input/* .\n\nmodule load CP2K/2022.1-foss-2022a\n\n# Default CP2K 2022.1\n#cp2k=/gpfs/easybuild/prod/software/CP2K/2022.1-foss-2022a/bin/cp2k.psmp\n\n# CP2K official\n#cp2k=/gpfs/home/cahart/software/cp2k-master/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.1/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.2/exe/local/cp2k.psmp\n\n# CP2K-SMEAGOL\n#cp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private/exe/local/cp2k.psmp\ncp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private-external-blas/exe/local/cp2k.psmp\n\nfind . -maxdepth 1 ! -name '*slurm*' -type f -exec rm  {} +\ncp input/* .\n\nkpoints_bulk=\"1 1 20\"\nkpoints_em=\"1 1 1\"\n\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_bulk/g\"  1_bulkLR.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  2_dft_wfn.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  3_0V.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  4_V.inp\n\nbulk_folder=/gpfs/home/cahart/transport/melamine/au_from-h2/leads/leads-sz_kpoints-1-1-20\ncp $bulk_folder/*bulk* .\nwait\n\n#dft_folder=/gpfs/home/cahart/transport/melamine/au_size-6-6-6/capacitor/dft_kpoints-1-1-20\n#cp $dft_folder/*dft* .\n#wait\n\nHLB=\"$(grep '0.0000000000' bulk-VH_AV.dat | head -1 | awk '{print $2}')\"\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  3_0V.inp\n\nmpirun $cp2k -i 3_0V.inp -o log_3_0V.out\n\nV=1.0\necho $V\nmv 4_V.inp 4_${V}V.inp\nsed -i -e \"s/PROJECT_REPLACE/${V}V/g\" 4_${V}V.inp\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  4_${V}V.inp\nsed -i -e \"s/V_REPLACE/${V}/g\"  4_${V}V.inp\n\nmpirun $cp2k -i 4_${V}V.inp -o log_4_${V}V.out\n"}
{"text": "#!/bin/bash\n#PBS -l walltime=00:30:00\n#PBS -l select=8:ncpus=64:mpiprocs=64:mem=200gb\n###PBS -l select=8:ncpus=64:mpiprocs=8:ompthreads=8:mem=200gb\n\ncd $PBS_O_WORKDIR\nmodule purge\n\nexport OMP_NUM_THREADS=1\nexport MKL_NUM_THREADS=1\n\nfind . -maxdepth 1 ! -name 'run.slurm' -type f -exec rm  {} +\ncp input/* .\n\nmodule load CP2K/2022.1-foss-2022a\n\n# Default CP2K 2022.1\n#cp2k=/gpfs/easybuild/prod/software/CP2K/2022.1-foss-2022a/bin/cp2k.psmp\n\n# CP2K official\n#cp2k=/gpfs/home/cahart/software/cp2k-master/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.1/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.2/exe/local/cp2k.psmp\n\n# CP2K-SMEAGOL\n#cp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private/exe/local/cp2k.psmp\ncp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private-external-blas/exe/local/cp2k.psmp\n\nfind . -maxdepth 1 ! -name '*slurm*' -type f -exec rm  {} +\ncp input/* .\n\nkpoints_bulk=\"1 1 20\"\nkpoints_em=\"1 1 1\"\n\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_bulk/g\"  1_bulkLR.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  2_dft_wfn.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  3_0V.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  4_V.inp\n\nmpirun $cp2k -i 2_dft_wfn.inp -o log_2_dft_wfn.out\n"}
{"text": "#!/bin/bash\n#PBS -l walltime=06:00:00\n###PBS -l select=8:ncpus=64:mpiprocs=64:mem=200gb\n#PBS -l select=8:ncpus=64:mpiprocs=8:ompthreads=8:mem=200gb\n\ncd $PBS_O_WORKDIR\nmodule purge\n\nexport OMP_NUM_THREADS=8\nexport MKL_NUM_THREADS=8\n\nfind . -maxdepth 1 ! -name 'run.slurm' -type f -exec rm  {} +\ncp input/* .\n\nmodule load CP2K/2022.1-foss-2022a\n\n# Default CP2K 2022.1\n#cp2k=/gpfs/easybuild/prod/software/CP2K/2022.1-foss-2022a/bin/cp2k.psmp\n\n# CP2K official\n#cp2k=/gpfs/home/cahart/software/cp2k-master/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.1/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.2/exe/local/cp2k.psmp\n\n# CP2K-SMEAGOL\n#cp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private/exe/local/cp2k.psmp\ncp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private-external-blas/exe/local/cp2k.psmp\n\nfind . -maxdepth 1 ! -name '*slurm*' -type f -exec rm  {} +\ncp input/* .\n\nkpoints_bulk=\"1 1 20\"\nkpoints_em=\"1 1 1\"\n\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_bulk/g\"  1_bulkLR.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  2_dft_wfn.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  3_0V.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  4_V.inp\n\nbulk_folder=/gpfs/home/cahart/transport/melamine/au_from-h2/leads/leads-sz-6s_kpoints-1-1-20\ncp $bulk_folder/*bulk* .\nwait\n\n#dft_folder=/gpfs/home/cahart/transport/melamine/au_size-6-6-6/capacitor/dft_kpoints-1-1-20\n#cp $dft_folder/*dft* .\n#wait\n\nHLB=\"$(grep '0.0000000000' bulk-VH_AV.dat | head -1 | awk '{print $2}')\"\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  3_0V.inp\n\nmpirun $cp2k -i 3_0V.inp -o log_3_0V.out\n\nV=1.0\necho $V\nmv 4_V.inp 4_${V}V.inp\nsed -i -e \"s/PROJECT_REPLACE/${V}V/g\" 4_${V}V.inp\nsed -i -e \"s/HLB_REPLACE/${HLB}/g\"  4_${V}V.inp\nsed -i -e \"s/V_REPLACE/${V}/g\"  4_${V}V.inp\n\nmpirun $cp2k -i 4_${V}V.inp -o log_4_${V}V.out\n"}
{"text": "#!/bin/bash\n#PBS -l walltime=24:00:00\n#PBS -l select=4:ncpus=64:mpiprocs=64:mem=200gb\n\ncd $PBS_O_WORKDIR\nmodule purge\nwait\n\nexport OMP_NUM_THREADS=1\nexport MKL_NUM_THREADS=1\n\n#find . -maxdepth 1 ! -name 'run.slurm' -type f -exec rm  {} +\n#cp input/* .\n\nmodule load CP2K/2022.1-foss-2022a\n\n# Default CP2K 2022.1\n#cp2k=/gpfs/easybuild/prod/software/CP2K/2022.1-foss-2022a/bin/cp2k.psmp\n\n# CP2K official\n#cp2k=/gpfs/home/cahart/software/cp2k-master/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.1/exe/local/cp2k.psmp\n#cp2k=/gpfs/home/cahart/software/cp2k-2022.2/exe/local/cp2k.psmp\n\n# CP2K-SMEAGOL\n#cp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private/exe/local/cp2k.psmp\ncp2k=/gpfs/home/cahart/software/smeagol/cp2k-smeagol/cp2k-private-external-blas/exe/local/cp2k.psmp\n\nkpoints_bulk=\"1 1 20\"\nkpoints_em=\"1 1 1\"\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_bulk/g\"  1_bulkLR.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  2_dft_wfn.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  3_0V.inp\nsed -i -e \"s/KPOINTS_REPLACE/$kpoints_em/g\"  4_V.inp\n\nmpirun $cp2k -i 2_dft_wfn.inp -o log_2_dft_wfn.out\n\nTARGET=2000\nrestart_fn=$(ls *-1.restart)\n\ncurrent=$(grep STEP_START_VAL $restart_fn | awk '{print $2}')\necho $current\n\nif [ $current -le $TARGET ]; then\n        # Resubmit!\n        echo 'resubmit'\n        cp $restart_fn 2_dft_wfn.inp\n        qsub -q hx run.slurm\nfi\n"}
