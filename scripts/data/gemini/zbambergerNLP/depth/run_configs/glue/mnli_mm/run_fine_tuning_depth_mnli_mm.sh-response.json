{
    "candidates": [
        {
            "content": {
                "parts": [
                    {
                        "text": "```json\n{\n  \"application\": \"Slurm\",\n  \"details\": {\n    \"software\": [\n      \"deepspeed\",\n      \"nvidia-smi\",\n      \"train_encoder_decoder.py\"\n    ],\n    \"resources\": {\n      \"nodes\": 1,\n      \"gpus\": 2,\n      \"cpus\": 32,\n      \"virtual_environment\": \".depth/bin/activate\",\n      \"environment_variables\": {\n        \"DS_SKIP_CUDA_CHECK\": \"1\",\n        \"OMP_NUM_THREADS\": \"$SLURM_CPUS_PER_TASK\"\n      },\n      \"output_files\": [\n        \"fine_tuning_runs/slurm_%N_%j_out.txt\",\n        \"fine_tuning_runs/slurm_%N_%j_err.txt\"\n      ],\n      \"email_notifications\": {\n        \"type\": \"fail\",\n        \"address\": \"zachary@campus.technion.ac.il\"\n      }\n    },\n    \"job_parameters\": {\n      \"name\": \"principled-pre-training\",\n      \"partition\": \"nlp\",\n      \"account\": \"nlp\",\n      \"nodes\": \"nlp-ada-2,nlp-a40-1\"\n    },\n    \"deepspeed_parameters\": {\n      \"no_local_rank\": true,\n      \"master_port\": 12202,\n      \"num_gpus\": 2\n    },\n    \"train_encoder_decoder_parameters\": {\n      \"num_gpus\": 2,\n      \"num_cpus\": 32,\n      \"data\": {\n        \"input_length\": 512,\n        \"target_length\": 8,\n        \"streaming\": false,\n        \"data_collator\": \"depth\"\n      },\n      \"precision\": \"bf16\",\n      \"model\": {\n        \"model_implementation\": \"depth\",\n        \"compile\": false\n      },\n      \"deepspeed\": {\n        \"use_deepspeed\": true\n      },\n      \"logging\": {\n        \"wandb\": true,\n        \"every_steps\": 100\n      },\n      \"optim\": {\n        \"total_steps\": 10_000,\n        \"base_lr\": 1e-5,\n        \"batch_size\": 128,\n        \"grad_acc\": 1,\n        \"warmup_steps\": 1_000,\n        \"lr_scheduler\": \"linear\",\n        \"name\": \"adamw_torch\"\n      },\n      \"evaluate\": {\n        \"every_steps\": 500\n      },\n      \"checkpoint\": {\n        \"every_steps\": 10_000,\n        \"checkpoint_path\": \"checkpoints/pre_train/from_scratch/depth/c4_en/lr_0_0001_linear_bsz_200_shuffle_p_0_5/2024-03-11_18-50/checkpoint-1000000\"\n      },\n      \"mode\": \"ft\",\n      \"downstream\": {\n        \"benchmark_dataset\": \"mnli\",\n        \"mnli_sub_dir\": \"mismatched\",\n        \"benchmark_constants\": \"glue\"\n      }\n    }\n  }\n}\n```"
                    }
                ],
                "role": "model"
            },
            "finish_reason": 1,
            "index": 0,
            "safety_ratings": [
                {
                    "category": 9,
                    "probability": 1,
                    "blocked": false
                },
                {
                    "category": 8,
                    "probability": 1,
                    "blocked": false
                },
                {
                    "category": 7,
                    "probability": 1,
                    "blocked": false
                },
                {
                    "category": 10,
                    "probability": 1,
                    "blocked": false
                }
            ],
            "token_count": 0,
            "grounding_attributions": []
        }
    ],
    "usage_metadata": {
        "prompt_token_count": 1171,
        "candidates_token_count": 791,
        "total_token_count": 1962,
        "cached_content_token_count": 0
    }
}