{
    "application": "Slurm",
    "details": {
        "job_name": "array_job",
        "nodes": 1,
        "tasks_per_node": 2,
        "time": "48:00:00",
        "output": "outz-%j",
        "share": true,
        "export": "ALL",
        "modules": [
            "StdEnv",
            "PrgEnv/python/gcc/2.7.11"
        ],
        "environment_variables": {
            "FLIST": "list",
            "DOPRINT": "yes",
            "JOB_ID": "SLURM_ARRAY_JOB_ID or SLURM_JOB_ID",
            "SUB_ID": "SLURM_ARRAY_TASK_ID or 0"
        },
        "script_execution": [
            "mkdir -p $SLURM_ARRAY_JOB_ID",
            "cd $SLURM_ARRAY_JOB_ID",
            "cmd=`echo $SLURM_ARRAY_TASK_ID\"q;d\"`",
            "aline=`sed -e $cmd $SLURM_SUBMIT_DIR/pars`",
            "cl=`echo $aline | awk '{print(\"-v x \" $1 \" -v y \" $2 \" -v z \" $3)}'`",
            "dir=`echo $aline | awk '{print($1\"/\"$2\"/\"$3)}'`",
            "mkdir -p $dir",
            "cd $dir",
            "srun -n 2 $SLURM_SUBMIT_DIR/p_array $cl > out.dat",
            "wait"
        ]
    }
}