{
    "application": "SLURM",
    "details": {
        "job_name": "dog2",
        "nodes": 1,
        "cpus_per_task": 8,
        "memory": "32GB",
        "gpu": "a100",
        "gpu_count": 1,
        "time": "4:00:00",
        "environment": {
            "DATA": "dog2",
            "CLASS": "dog",
            "MODEL_NAME": "stabilityai/stable-diffusion-xl-base-1.0",
            "INSTANCE_DIR": "/scratch/jy3694/dataset/dreambooth/training/ours/dog2",
            "CLASS_DIR": "/scratch/jy3694/dataset/dreambooth/regularization/ours/dog",
            "VAE_PATH": "madebyollin/sdxl-vae-fp16-fix",
            "OUTPUT_DIR": "/scratch/jy3694/dreambooth_xl/runs/ours/dog2"
        },
        "singularity_image": "/scratch/work/public/singularity/cuda12.1.1-cudnn8.9.0-devel-ubuntu22.04.2.sif",
        "singularity_overlay": "$SCRATCH/venv_threestudio.ext3:ro",
        "command": "accelerate launch train_dreambooth_lora_sdxl.py",
        "command_arguments": [
            "--pretrained_model_name_or_path=$MODEL_NAME",
            "--instance_data_dir=$INSTANCE_DIR",
            "--class_data_dir='$CLASS_DIR'",
            "--pretrained_vae_model_name_or_path=$VAE_PATH",
            "--output_dir=$OUTPUT_DIR",
            "--with_prior_preservation",
            "--prior_loss_weight=1.0",
            "--mixed_precision=\"fp16\"",
            "--instance_prompt=\"a photo of sks '$CLASS'\"",
            "--class_prompt=\"a photo of '$CLASS'\"",
            "--resolution=1024",
            "--train_batch_size=1",
            "--gradient_accumulation_steps=4",
            "--learning_rate=1e-5",
            "--lr_scheduler=\"constant\"",
            "--lr_warmup_steps=0",
            "--num_class_images=200",
            "--max_train_steps=800",
            "--validation_prompt=\"A photo of sks '$CLASS' in a bucket\"",
            "--validation_epochs=25",
            "--seed=\"0\""
        ]
    }
}