{
    "application": "COBALT",
    "details": {
        "modules": [
            "datascience/tensorflow-1.13",
            "datascience/mpi4py",
            "cray-hdf5-parallel/1.10.2.0"
        ],
        "environment_variables": [
            "HDF5_USE_FILE_LOCKING=FALSE",
            "PYTHONPATH=$PYTHONPATH:/lus/theta-fs0/projects/datascience/keceli/pip_ffn"
        ],
        "file_paths": [
            "/lus/theta-fs0/projects/datascience/keceli/run/f3n/training/tf_record_file",
            "/lus/theta-fs0/projects/datascience/keceli/run/f3n/training/groundtruth.h5",
            "/lus/theta-fs0/projects/datascience/keceli/run/f3n/training/grayscale_maps.h5",
            "/gpfs/mira-home/keceli/ffn/keceli_ffn/compute_partitions_mpi.py"
        ],
        "runtime_parameters": [
            "NRANK_PER_NODE",
            "NTHREAD_PER_CORE",
            "NNODE",
            "NRANK",
            "LOM",
            "MINSIZE",
            "TRAINDIR"
        ],
        "command_line_arguments": [
            "aprun",
            "-n $NRANK",
            "-N $NRANK_PER_NODE",
            "-e KMP_BLOCKTIME=0",
            "-e KMP_AFFINITY=\u201cgranularity=fine,compact,1,0\u201d",
            "-e OMP_NUM_THREADS=$NTHREAD",
            "-cc depth",
            "-d $NTHREAD",
            "-j $NTHREAD_PER_CORE",
            "python $TRAINER",
            "--input_volume ${GROUNDTRUTH}:stack",
            "--output_volume ${TRAINDIR}/af.h5:af",
            "--thresholds 0.025,0.05,0.075,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9",
            "--lom_radius ${LOM},${LOM},${LOM}",
            "--min_size ${MINSIZE}"
        ]
    }
}