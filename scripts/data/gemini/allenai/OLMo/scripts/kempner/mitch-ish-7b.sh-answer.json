{
    "application": "SLURM",
    "details": {
        "resource_requirements": {
            "nodes": 8,
            "tasks_per_node": 4,
            "gpus_per_node": 4,
            "cpus_per_task": 16,
            "time": "167:00:00",
            "memory": "all",
            "partition": "kempner_project"
        },
        "environment_variables": {
            "OMP_NUM_THREADS": "$SLURM_CPUS_PER_TASK",
            "MPICH_GPU_SUPPORT_ENABLED": "1",
            "MIOPEN_USER_DB_PATH": "/tmp/${USER}-miopen-cache-${SLURM_JOB_ID}",
            "MIOPEN_CUSTOM_CACHE_DIR": "${MIOPEN_USER_DB_PATH}",
            "PYTHONPATH": ".:${PYTHONPATH}",
            "DATA_PATH": "/n/home06/dgroeneveld/data/preprocessed/olmo-mix",
            "EVAL_DATA_PATH": "/n/home06/dgroeneveld/data/eval-data",
            "CHECKPOINTS_PATH": "/n/home06/dgroeneveld/checkpoints",
            "PYTORCH_KERNEL_CACHE_PATH": "/tmp/pytorch_kernel_cache/"
        },
        "software_requirements": {
            "python_environment": "LLM",
            "script": "train.py"
        },
        "command": "srun --cpus-per-task=$SLURM_CPUS_PER_TASK --distribution=block:block --kill-on-bad-exit scripts/run_with_environment.sh $HOME/miniconda3/envs/LLM/bin/python -u scripts/train.py configs/v1_5-mix-medium-mitch-ish-s3.yaml --run_name=kempner_${SLURM_JOB_ID} --wandb.name=v1_5-mix-mitch-ish-final-tulu '--data.paths=[s3://ai2-llm/preprocessed/tulu-v2-sft-mixture/gpt-neox-20b-pii-special/data.npy,s3://ai2-llm/preprocessed/olmo-mix/v1_5-sample-9B/gpt-neox-20b-pii-special/data.npy]' --eval_interval=100 --save_interval=500 --load_path=${LOAD_PATH} --restore_dataloader=false --optimizer.learning_rate=0.000023 --scheduler.t_warmup=556000 --scheduler.alpha_f=0.001 --scheduler.t_max=558223 --stop_at=558223 --time_limit=$((167 * 60 * 60)) --model.flash_attention=true --save_folder=/n/holyscratch01/kempner_lab/Lab/checkpoints/${SLURM_JOB_ID}/"
    }
}