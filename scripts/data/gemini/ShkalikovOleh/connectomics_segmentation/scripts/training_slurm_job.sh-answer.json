{
    "application": "SLURM",
    "details": {
        "resource_requests": {
            "nodes": 1,
            "tasks_per_node": 1,
            "time": "12:00:00",
            "account": "p_pixel",
            "job_name": "training",
            "gpu": 1,
            "partition": "alpha",
            "memory": "48G",
            "cpus_per_task": 16
        },
        "modules": [
            "release/23.04",
            "GCCcore/12.2.0",
            "Python/3.10.8",
            "CUDA/11.8.0"
        ],
        "environment_variables": {
            "CFG_FILE": "The first argument passed to the script",
            "VENV_DIR": "The value of the 'VENV_DIR' variable read from the CFG_FILE"
        },
        "commands": [
            "nvidia-smi",
            "source \"$CFG_FILE\"",
            "export $(cut -d= -f1 \"$CFG_FILE\")",
            "source $VENV_DIR/bin/activate",
            "python -m connectomics_segmentation.train \"${@:2}\""
        ]
    }
}