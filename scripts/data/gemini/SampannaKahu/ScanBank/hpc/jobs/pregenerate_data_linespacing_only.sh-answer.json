{
    "application": "Slurm",
    "software": [
        "Python",
        "training_data_generator.py"
    ],
    "resources": {
        "nodes": 1,
        "cores": 32,
        "memory": "128 GB",
        "gpus": 0,
        "queue": "normal_q",
        "walltime": "80:00:00"
    },
    "storage": {
        "home": "/home/sampanna",
        "work": "/work/cascades/sampanna",
        "scratch": "/scratch-local"
    },
    "environment": {
        "conda_env": "deepfigures"
    },
    "commands": [
        "module purge",
        "cd \"$WORK\"/deepfigures-results || exit",
        "mkdir -p \"$ARXIV_DATA_TEMP\"",
        "mkdir -p \"$DOWNLOAD_CACHE\"",
        "mkdir -p \"$ARXIV_DATA_OUTPUT\"",
        "mkdir -p \"$ZIP_SAVE_DIR\"",
        "mkdir -p \"$ZIP_DEST_DIR\"",
        "cat ~/deepfigures-open/hpc/files_random_40/files_\"$i\".json | grep tar | awk -F '/' '{print $3_\"$4_\"$5}' | awk -F '\"' '{print \"/work/cascades/sampanna/deepfigures-results/download_cache/\"$1}' | xargs cp -t \"$DOWNLOAD_CACHE\"",
        "/home/sampanna/.conda/envs/deepfigures/bin/python /home/sampanna/deepfigures-open/deepfigures/data_generation/training_data_generator.py --file_list_json /home/sampanna/deepfigures-open/hpc/files_random_40/files_\"$i\".json --images_per_zip=500 --zip_save_dir=\"$ZIP_SAVE_DIR\" --zip_dest_dir=\"$ZIP_DEST_DIR\" --n_cpu=$NUM_CPUS_TIMES_2 --work_dir_prefix \"$WORK_DIR_PREFIX\" --arxiv_tmp_dir \"$ARXIV_DATA_TEMP\" --arxiv_cache_dir \"$DOWNLOAD_CACHE\" --arxiv_data_output_dir \"$ARXIV_DATA_OUTPUT\" --delete_tar_after_extracting True --augment_line_spacing_1_5 True"
    ]
}