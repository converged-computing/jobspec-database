{
    "application": "accelerate",
    "details": {
        "framework": "PyTorch",
        "model": "stabilityai/stable-diffusion-xl-base-1.0",
        "dataset": "laion-aesthetic6plus-min512-data",
        "resources": {
            "nodes": 1,
            "tasks_per_node": 1,
            "cpus_per_task": 96,
            "gpus": 8,
            "partition": "production-cluster"
        },
        "libraries": [
            "accelerate",
            "deepspeed",
            "transformers",
            "diffusers",
            "xformers",
            "wandb"
        ],
        "environment": {
            "conda": "muse",
            "bashrc": "/admin/home/suraj/.bashrc",
            "conda_path": "/fsx/suraj/miniconda3/etc/profile.d/conda.sh"
        },
        "configuration": {
            "accelerate_config_file": "/fsx/suraj/t2i-recolor-2/${SLURM_JOB_ID}_accelerate_config.yaml.autogenerated",
            "output_dir": "/fsx/suraj/t2i-recolor-2",
            "log_path": "/fsx/suraj/t2i-recolor-2/main_log.txt",
            "repo": "/admin/home/suraj/code/muse-experiments/ctrlnet",
            "model_dir": "stabilityai/stable-diffusion-xl-base-1.0",
            "pretrained_vae_model_name_or_path": "madebyollin/sdxl-vae-fp16-fix"
        },
        "training": {
            "resolution": 1024,
            "learning_rate": 1e-05,
            "max_train_steps": 20000,
            "max_train_samples": 3000000,
            "dataloader_num_workers": 8,
            "validation_image": "/admin/home/suraj/code/muse-experiments/ctrlnet/recolor-images",
            "validation_prompt": "'beautiful room' 'two paradise birds' 'a snowy house behind a forest' 'a couple watching a romantic sunset' 'boats in the Amazonas' 'a beautiful face of a woman' 'a skater in Brooklyn' 'a tornado in Iowa'",
            "train_shards_path_or_url": "pipe:aws s3 cp s3://muse-datasets/laion-aesthetic6plus-min512-data/{00000..01210}.tar -",
            "proportion_empty_prompts": 0.5,
            "validation_steps": 500,
            "train_batch_size": 16,
            "gradient_checkpointing": true,
            "use_8bit_adam": true,
            "enable_xformers_memory_efficient_attention": true,
            "gradient_accumulation_steps": 1,
            "seed": 42,
            "report_to": "wandb",
            "resume_from_checkpoint": "latest",
            "push_to_hub": true,
            "use_euler": true,
            "use_non_uniform_timesteps": true,
            "adapter_in_channels": 3,
            "control_type": "recolor",
            "checkpoints_total_limit": 10
        },
        "slurm_configuration": {
            "job_name": "t2i-recolor-2",
            "output": "/admin/home/suraj/logs/maskgit-imagenet/%x-%j.out",
            "exclusive": true,
            "gres": "gpu:8"
        },
        "aws_configuration": {
            "NCCL_PROTO": "simple",
            "RDMAV_FORK_SAFE": 1,
            "FI_EFA_FORK_SAFE": 1,
            "FI_EFA_USE_DEVICE_RDMA": 1,
            "FI_PROVIDER": "efa",
            "FI_LOG_LEVEL": 1,
            "NCCL_IB_DISABLE": 1,
            "NCCL_SOCKET_IFNAME": "ens"
        }
    }
}