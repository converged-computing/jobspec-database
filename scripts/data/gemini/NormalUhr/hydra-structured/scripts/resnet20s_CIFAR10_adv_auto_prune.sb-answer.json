{
    "application": "SLURM",
    "details": {
        "software": [
            "GCC/6.4.0-2.28",
            "OpenMPI/2.1.2",
            "CUDA/10.0.130",
            "cuDNN/7.5.0.56-CUDA-10.0.130",
            "Python/3.8.5",
            "anaconda3"
        ],
        "resources": {
            "time": "2:50:00",
            "nodes": 1,
            "tasks": 1,
            "cpus_per_task": 4,
            "mem_per_cpu": "2G",
            "gpu": "v100:1"
        },
        "commands": [
            "module purge",
            "module load GCC/6.4.0-2.28  OpenMPI/2.1.2",
            "module load CUDA/10.0.130 cuDNN/7.5.0.56-CUDA-10.0.130",
            "module load Python/3.8.5",
            "export PATH=$PATH:$HOME/anaconda3/bin",
            "source activate biprune",
            "cd ~/hydra-structured",
            "python3 train.py --arch resnet20s --dataset CIFAR10 --k ${k} --exp-mode prune --exp-name resnet20s_ratio${k}_adv_auto --trainer adv --val-method adv --source-net results/pretrained/resnet20s_adv_pretrain.pth.tar --scaled-score-init --result-dir results --use_trainable_router --router_checkpoint_path results/pretrained/resnet20s_adv_pretrain.pth.tar --router_arch resnet20s",
            "scontrol show job $SLURM_JOB_ID"
        ]
    }
}