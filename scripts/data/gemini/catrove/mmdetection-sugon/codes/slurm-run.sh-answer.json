{
    "application": "PyTorch",
    "details": {
        "resource_requirements": {
            "partition": "caspra",
            "nodes": 16,
            "tasks_per_node": 4,
            "cpus_per_task": 8,
            "gres": "dcu:4",
            "job_name": "torch-test"
        },
        "software_requirements": {
            "compiler": "devtoolset/7.3.1",
            "rocm": "2.9",
            "mpi": "hpcx/2.4.1/gcc-7.3.1",
            "pytorch": "1.3.0a0/hpcx-2.4.1-gcc-7.3.1"
        },
        "execution_modes": [
            {
                "mode": "multi-node multi-gpu",
                "command": "mpirun -np $num_DCU --allow-run-as-root --hostfile `pwd`/hostfile-dl --bind-to none `pwd`/single_process.sh $dist_url"
            },
            {
                "mode": "single-node multi-gpu",
                "command": "mpirun -np $num_DCU --allow-run-as-root --bind-to none `pwd`/single_process.sh $dist_url"
            },
            {
                "mode": "single-node multi-gpu (alternative)",
                "command": "python3 main.py --batch-size=128  --arch=resnet50 --workers 24 --epochs=1 /public/software/apps/DeepLearning/Data/ImageNet-pytorch/"
            },
            {
                "mode": "single-node single-gpu",
                "command": "python3 main.py --batch-size=32  --arch=resnet50 --workers 6 --epochs=1 --gpu=0  /public/software/apps/DeepLearning/Data/ImageNet-pytorch/"
            }
        ],
        "environment_variables": [
            {
                "name": "MIOPEN_DISABLE_CACHE",
                "value": "1"
            }
        ]
    }
}