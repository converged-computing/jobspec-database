{
    "application": "Bert pretraining",
    "software": [
        "PaddlePaddle",
        "Docker",
        "Slurm",
        "LDDL",
        "Dask",
        "Jemalloc"
    ],
    "resources": {
        "cpu": "Multiple CPU cores (depending on DASK_TASKS_PER_NODE)",
        "memory": "0 (overcommitted)",
        "gpu": "8 per node",
        "storage": [
            "Dataset stored in /home/${USER}/datasets",
            "Parquet shards stored in /home/${USER}/datasets/pretrain",
            "Pretrained checkpoints stored in $PWD/results/${SLURM_JOB_ID}"
        ],
        "networking": "MPI communication between nodes using PMIx"
    },
    "other": {
        "image": "bert:${IMAGE_VERSION}",
        "mounts": [
            "PWD:/workspace/bert",
            "host_wikipedia_source:/datasets/wikipedia/source",
            "host_pretrain:/datasets/pretrain",
            "host_output:/results",
            "(optional) dirname(INIT_CHECKPOINT):/checkpoints"
        ],
        "commands": [
            "preprocess_bert_pretrain",
            "balance_dask_output",
            "python -m paddle.distributed.launch"
        ]
    }
}