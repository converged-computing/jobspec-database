{
    "application": "SLURM",
    "details": {
        "environment": "bash",
        "resources": {
            "memory": "0",
            "time": "8:00:00",
            "nodes": "SLURM_JOB_NUM_NODES",
            "tasks_per_node": 8,
            "container": {
                "image": "nvcr.io/nvidia/effdet:21.09-tf2",
                "mounts": "${checkpointdir}:/workspace/checkpoints,${datadir}:/workspace/coco"
            }
        },
        "software": {
            "python": "3",
            "libraries": [
                "efficientdet"
            ]
        },
        "command": "python3 train.py --training_mode=${training_mode:=traineval} --training_file_pattern=/workspace/coco/train-* --val_file_pattern=/workspace/coco/val-* --val_json_file=/workspace/coco/annotations/instances_val2017.json --model_name=efficientdet-d0 --model_dir=/tmp/convergence-AMP-32xV100-32G --backbone_init=/workspace/checkpoints/efficientnet-b0-joc --batch_size=$bs --eval_batch_size=$bs --num_epochs=$ep --use_xla=True --amp=True --lr=$lr --warmup_epochs=$wu --hparams=\"moving_average_decay=$ema,momentum=$momentum\""
    }
}