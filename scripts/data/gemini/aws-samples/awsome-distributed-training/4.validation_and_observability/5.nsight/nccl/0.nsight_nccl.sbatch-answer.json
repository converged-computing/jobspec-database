{
    "application": "slurm",
    "details": {
        "job_name": "megatron_gpt",
        "nodes": 2,
        "tasks_per_node": 8,
        "gpus_per_node": 8,
        "tasks_per_core": 1,
        "container_image": "/apps/nccl.sqsh",
        "data_path": "/fsx",
        "fsx_mount": "/fsx:/fsx",
        "nccl_tests_path": "/opt/nccl-tests/build",
        "environment_variables": {
            "FI_EFA_USE_DEVICE_RDMA": "1",
            "FI_PROVIDER": "efa",
            "FI_EFA_FORK_SAFE": "1",
            "FI_LOG_LEVEL": "1",
            "FI_EFA_ENABLE_SHM_TRANSFER": "1",
            "NCCL_ASYNC_ERROR_HANDLING": "1",
            "NCCL_DEBUG": "INFO"
        },
        "command": "/fsx/nccl-slurm-exec /opt/nccl-tests/build/scatter_perf -b 8 -e 2G -f 2 -g 1 -c 1 -n 100"
    }
}