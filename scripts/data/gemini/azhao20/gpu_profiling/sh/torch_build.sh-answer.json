{
    "application": "pytorch",
    "software_requirements": [
        "python/3.10.12-fasrc01",
        "gcc/9.5.0-fasrc01",
        "cuda/12.0.1-fasrc01",
        "cudnn/8.9.2.26_cuda12-fasrc01",
        "cmake/3.28.3-fasrc01",
        "mamba",
        "ccache"
    ],
    "resource_requirements": {
        "cpu": "32 cores",
        "memory": "256 GB",
        "gpu": "2 Nvidia A100-sxm4-80gb",
        "runtime": "7 days"
    },
    "environment_variables": [
        "HOME=/n/holylabs/LABS/idreos_lab/Users/azhao",
        "CCACHE_DI2=${HOME}/ccache",
        "CMAKE_PREFIX_PATH=${CONDA_PREFIX:-\"$(dirname $(which mamba))/../\"}",
        "CUDA_NVCC_EXECUTABLE=${CUDA_HOME}/bin/nvcc",
        "USE_CUDA=1",
        "MAX_JOBS=40",
        "USE_CUDNN=1",
        "USE_NCCL=1",
        "REL_WITH_DEB_INFO=1",
        "BUILD_CAFFE2=0",
        "USE_XNNPACK=0",
        "USE_FBGEMM=0",
        "USE_QNNPACK=0",
        "USE_NNPACK=0",
        "BUILD_TEST=0",
        "USE_GOLD_LINKER=1",
        "USE_PYTORCH_QNNPACK=0",
        "USE_KINETO=0",
        "DEBUG=0",
        "PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:128",
        "CC=$(which gcc)",
        "GCC=$(which gcc)",
        "GXX=$(which g++)",
        "CXX=$(which g++)",
        "CMAKE_GENERATOR=Ninja",
        "LD_LIBRARY_PATH=${HOME}/env/lib:${LD_LIBRARY_PATH}",
        "CUDA_CUDA_LIB=/n/sw/helmod-rocky8/apps/Core/cuda/12.0.1-fasrc01/cuda/lib64/libcudart.so",
        "TORCH_CUDA_ARCH_LIST=7.0 8.0"
    ],
    "commands": [
        "make clone-deps",
        "make pull-deps",
        "make build-deps"
    ]
}