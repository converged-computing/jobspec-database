{
    "application": "SLURM",
    "details": {
        "resource_manager": "SLURM",
        "partition": "gpu",
        "job_name": "mclap",
        "nodes": 1,
        "tasks_per_node": 1,
        "cpus_per_gpu": 6,
        "gpus": 1,
        "output_file_format": "%x_%j.out",
        "excluded_nodes": "gpu-st-p4d-24xlarge-[23,30,31,108,115,134,135,183,185,186,187,188,275,277,290,374]",
        "modules": [
            "intelmpi"
        ],
        "environment_variables": {
            "LD_LIBRARY_PATH": "/opt/aws-ofi-nccl/lib:/opt/amazon/efa/lib64:/usr/local/cuda-11.0/efa/lib:/usr/local/cuda-11.0/lib:/usr/local/cuda-11.0/lib64:/usr/local/cuda-11.0:/opt/nccl/build/lib:/opt/aws-ofi-nccl-install/lib:/opt/aws-ofi-nccl/lib:$LD_LIBRARY_PATH",
            "NCCL_PROTO": "simple",
            "PATH": "/opt/amazon/efa/bin:$PATH",
            "LD_PRELOAD": "/opt/nccl/build/lib/libnccl.so",
            "FI_EFA_FORK_SAFE": 1,
            "FI_LOG_LEVEL": 1,
            "FI_EFA_USE_DEVICE_RDMA": 1,
            "NCCL_DEBUG": "info",
            "PYTHONFAULTHANDLER": 1,
            "CUDA_LAUNCH_BLOCKING": 0,
            "OMPI_MCA_mtl_base_verbose": 1,
            "FI_EFA_ENABLE_SHM_TRANSFER": 0,
            "FI_PROVIDER": "efa",
            "FI_EFA_TX_MIN_CREDITS": 64,
            "NCCL_TREE_THRESHOLD": 0,
            "HOSTNAMES": "`scontrol show hostnames \"$SLURM_JOB_NODELIST\"`",
            "MASTER_ADDR": "$(scontrol show hostnames \"$SLURM_JOB_NODELIST\" | head -n 1)",
            "MASTER_PORT": "12802",
            "COUNT_NODE": "`scontrol show hostnames \"$SLURM_JOB_NODELIST\" | wc -l`",
            "TRANSFORMERS_CACHE": "/fsx/yusong/transformers_cache"
        },
        "python_package": "evaluate.eval_retrieval_main",
        "python_arguments": [
            "--save-frequency",
            "5",
            "--save-top-performance",
            "3",
            "--save-most-recent",
            "--dataset-type",
            "webdataset",
            "--precision",
            "fp32",
            "--warmup",
            "0",
            "--batch-size",
            "512",
            "--wd",
            "0.0",
            "--epochs",
            "50",
            "--workers",
            "6",
            "--use-bn-sync",
            "--freeze-text",
            "--amodel",
            "HTSAT-tiny",
            "--tmodel",
            "roberta",
            "--report-to",
            "wandb",
            "--wandb-notes",
            "10.17-zeroshot-esc50-dataset-4#",
            "--datasetnames",
            "esc50",
            "--datasetinfos",
            "train",
            "--seed",
            "3407",
            "--remotedata",
            "--logs",
            "/fsx/clap_logs",
            "--gather-with-grad",
            "--openai-model-cache-dir",
            "/fsx/yusong/transformers_cache",
            "--data-filling",
            "repeatpad",
            "--data-truncating",
            "rand_trunc",
            "--class-label-path",
            "../class_labels/ESC50_class_labels_indices_space.json",
            "--pretrained",
            "/fsx/clap_logs/2022_10_17-02_08_21-model_HTSAT-tiny-lr_0.0001-b_96-j_6-p_fp32/checkpoints"
        ],
        "srun_options": {
            "comment": "clap",
            "cpu_bind": "v",
            "accel-bind": "gn"
        }
    }
}