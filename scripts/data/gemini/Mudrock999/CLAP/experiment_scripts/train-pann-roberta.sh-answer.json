{
    "application": "SLURM",
    "details": {
        "resource_requirements": {
            "partition": "gpu",
            "nodes": 1,
            "tasks_per_node": 8,
            "cpus_per_gpu": 6,
            "gres": "gpu:8",
            "exclude_nodes": "gpu-st-p4d-24xlarge-[23,30,31,108,115,134,135,183,185,186,187,188,275,277,374]"
        },
        "software_requirements": {
            "modules": "intelmpi",
            "environment_variables": [
                "LD_LIBRARY_PATH",
                "NCCL_PROTO",
                "PATH",
                "LD_PRELOAD",
                "FI_EFA_FORK_SAFE",
                "FI_LOG_LEVEL",
                "FI_EFA_USE_DEVICE_RDMA",
                "NCCL_DEBUG",
                "PYTHONFAULTHANDLER",
                "CUDA_LAUNCH_BLOCKING",
                "OMPI_MCA_mtl_base_verbose",
                "FI_EFA_ENABLE_SHM_TRANSFER",
                "FI_PROVIDER",
                "FI_EFA_TX_MIN_CREDITS",
                "NCCL_TREE_THRESHOLD",
                "HOSTNAMES",
                "MASTER_ADDR",
                "MASTER_PORT",
                "COUNT_NODE",
                "TRANSFORMERS_CACHE"
            ],
            "virtual_environment": "/fsx/yusong/clap/bin/activate"
        },
        "script_execution": {
            "command": "python -m training.main",
            "arguments": [
                "--save-frequency 5",
                "--save-top-performance 3",
                "--save-most-recent",
                "--dataset-type=\"webdataset\"",
                "--precision=\"fp32\"",
                "--batch-size=96",
                "--lr=1e-4",
                "--wd=0.0",
                "--epochs=45",
                "--workers=6",
                "--use-bn-sync",
                "--amodel PANN-14",
                "--tmodel roberta",
                "--warmup 500",
                "--report-to \"wandb\"",
                "--wandb-notes \"10.16-clap-dataset-1#-pann-roberta\"",
                "--datasetnames \"Clotho\" \"audiocaps\"",
                "--datasetinfos \"train\" \"unbalanced_train\"",
                "--top-k-checkpoint-select-dataset=\"Clotho-test\"",
                "--top-k-checkpoint-select-metric=\"mAP@10\"",
                "--openai-model-cache-dir /fsx/yusong/transformers_cache",
                "--logs /fsx/clap_logs",
                "--seed 3407",
                "--remotedata",
                "--gather-with-grad",
                "--optimizer \"adam\"",
                "--data-filling \"repeatpad\"",
                "--data-truncating \"rand_trunc\"",
                "--pretrained-audio /fsx/yusong/audio_pretrained_model/PANN-fullset-map=0.439.ckpt"
            ]
        }
    }
}