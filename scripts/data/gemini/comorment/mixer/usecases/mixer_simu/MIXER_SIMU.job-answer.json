{
    "application": "Slurm",
    "details": {
        "job_name": "mixer_simu",
        "output_file": "MIXER_SIMU-%A_%a.txt",
        "error_file": "MIXER_SIMU-%A_%a.txt",
        "open_mode": "truncate",
        "account": "p697_norment",
        "time": "02:00:00",
        "cpus_per_task": 16,
        "mem_per_cpu": "8000M",
        "array": "1-20",
        "modules": [
            "singularity/3.7.1"
        ],
        "environment_variables": {
            "COMORMENT": "/ess/p697/data/durable/s3-api/github/comorment",
            "SINGULARITY_BIND": "$COMORMENT/mixer/reference:/REF:ro",
            "SIF": "$COMORMENT/mixer/singularity",
            "MIXER_COMMON_ARGS": "--chr2use 21 --ld-file /REF/ldsc/1000G_EUR_Phase3_plink/1000G.EUR.QC.@.run4.ld --bim-file /REF/ldsc/1000G_EUR_Phase3_plink/1000G.EUR.QC.@.bim",
            "REP": "rep${SLURM_ARRAY_TASK_ID}",
            "EXTRACT": "--extract /REF/ldsc/1000G_EUR_Phase3_plink/1000G.EUR.QC.prune_maf0p05_rand2M_r2p8.$REP.snps",
            "PYTHON": "singularity exec --home $PWD:/home $SIF/mixer.sif python"
        },
        "commands": [
            "$PYTHON /tools/mixer/precimed/mixer.py fit1 $MIXER_COMMON_ARGS $EXTRACT --trait1-file unique.1.sumstats --out unique.1.fit.$REP",
            "$PYTHON /tools/mixer/precimed/mixer.py fit1 $MIXER_COMMON_ARGS $EXTRACT --trait1-file unique.2.sumstats --out unique.2.fit.$REP",
            "$PYTHON /tools/mixer/precimed/mixer.py fit2 $MIXER_COMMON_ARGS $EXTRACT --trait1-file unique.1.sumstats --trait2-file unique.2.sumstats --trait1-params unique.1.fit.$REP.json --trait2-params unique.2.fit.$REP.json --out unique.fit.$REP",
            "$PYTHON /tools/mixer/precimed/mixer.py test2 $MIXER_COMMON_ARGS --trait1-file unique.1.sumstats --trait2-file unique.2.sumstats --load-params unique.fit.$REP.json --out unique.test.$REP",
            "$PYTHON /tools/mixer/precimed/mixer.py fit1 $MIXER_COMMON_ARGS $EXTRACT --trait1-file shared.1.sumstats --out shared.1.fit.$REP",
            "$PYTHON /tools/mixer/precimed/mixer.py fit1 $MIXER_COMMON_ARGS $EXTRACT --trait1-file shared.2.sumstats --out shared.2.fit.$REP",
            "$PYTHON /tools/mixer/precimed/mixer.py fit2 $MIXER_COMMON_ARGS $EXTRACT --trait1-file shared.1.sumstats --trait2-file shared.2.sumstats --trait1-params shared.1.fit.$REP.json --trait2-params shared.2.fit.$REP.json --out shared.fit.$REP",
            "$PYTHON /tools/mixer/precimed/mixer.py test2 $MIXER_COMMON_ARGS --trait1-file shared.1.sumstats --trait2-file shared.2.sumstats --load-params shared.fit.$REP.json --out shared.test.$REP",
            "$PYTHON /tools/mixer/precimed/mixer.py fit1 $MIXER_COMMON_ARGS $EXTRACT --trait1-file partial.1.sumstats --out partial.1.fit.$REP",
            "$PYTHON /tools/mixer/precimed/mixer.py fit1 $MIXER_COMMON_ARGS $EXTRACT --trait1-file partial.2.sumstats --out partial.2.fit.$REP",
            "$PYTHON /tools/mixer/precimed/mixer.py fit2 $MIXER_COMMON_ARGS $EXTRACT --trait1-file partial.1.sumstats --trait2-file partial.2.sumstats --trait1-params partial.1.fit.$REP.json --trait2-params partial.2.fit.$REP.json --out partial.fit.$REP",
            "$PYTHON /tools/mixer/precimed/mixer.py test2 $MIXER_COMMON_ARGS --trait1-file partial.1.sumstats --trait2-file partial.2.sumstats --load-params partial.fit.$REP.json --out partial.test.$REP"
        ],
        "software_requirements": {
            "singularity": "3.7.1",
            "python": "unknown version"
        },
        "resource_requirements": {
            "data": {
                "comorment": "/ess/p697/data/durable/s3-api/github/comorment",
                "ldsc": "/REF/ldsc/1000G_EUR_Phase3_plink",
                "sumstats": [
                    "unique.1.sumstats",
                    "unique.2.sumstats",
                    "shared.1.sumstats",
                    "shared.2.sumstats",
                    "partial.1.sumstats",
                    "partial.2.sumstats"
                ]
            },
            "other": {
                "mixer": "/tools/mixer/precimed/mixer.py",
                "reference": "/REF/ldsc/1000G_EUR_Phase3_plink/1000G.EUR.QC.@.run4.ld",
                "bim": "/REF/ldsc/1000G_EUR_Phase3_plink/1000G.EUR.QC.@.bim",
                "singularity_image": "$COMORMENT/mixer/singularity/mixer.sif"
            }
        }
    }
}