{
    "application": "slurm",
    "software": [
        "dask-scheduler",
        "dask-worker",
        "singularity",
        "python",
        "sbatch"
    ],
    "modules": [
        "gcc/11.3.0",
        "cuda/11.7.1"
    ],
    "environment_variables": {
        "SINGULARITY_OPTS": "--cleanenv --env MALLOC_TRIM_THRESHOLD_=0 --bind ${PROJECT_DIR}:/project",
        "PROJECT_DIR": "/project",
        "DRY_RUN": "1",
        "RELOAD_ARG": "--reload $OPTARG",
        "LOGDIR_ROOT_ARG": "--logdir_root $LOGDIR_ROOT_ARG",
        "HPC_SLURM_ACCOUNT": "account_123",
        "HPC_SLURM_TIME": "20:00:00",
        "HPC_SLURM_NUM_NODES": "10",
        "HPC_SLURM_CPUS_PER_NODE": "12",
        "HPC_MASTER_WORKERS": "2",
        "HPC_MASTER_GPU": "true",
        "DATE": "$(date +'%Y-%m-%d_%H-%M-%S')",
        "LOGDIR": "slurm_logs/slurm_${DATE}",
        "SCHEDULER_SCRIPT": "${LOGDIR}/scheduler.slurm",
        "SCHEDULER_OUTPUT": "${LOGDIR}/scheduler.out",
        "SCHEDULER_FILE": "${LOGDIR}/scheduler_info.json",
        "SCHEDULER_CPUS": "4",
        "SCHEDULER_PORT": "8798",
        "CONFIG": "config/foo.gin",
        "SEED": "42",
        "HPC_CONFIG": "config/hpc/foo.sh",
        "JOB_IDS": "",
        "WORKER_SCRIPT": "${LOGDIR}/worker-${worker_id}.slurm",
        "WORKER_OUTPUT": "${LOGDIR}/worker-${worker_id}.out",
        "address": "$(singularity exec ${SINGULARITY_OPTS} singularity/ubuntu_warehouse.sif python -c \"\\ import json \\ with open('$SCHEDULER_FILE', 'r') as file: \\ print(json.load(file)['address']) \\ \")"
    },
    "resources": {
        "gres": "gpu:v100-16:1",
        "cpus_per_task": "1",
        "tasks": null,
        "ntasks_per_code": null,
        "gpus": "1",
        "gpus_per_node": "1",
        "cores_per_socket": null,
        "gpus_per_task": "1",
        "exclusive": null,
        "cpus_per_gpu": null,
        "gpu_type": "v100-16",
        "time": "20:00:00",
        "ntasks_per_node": "12",
        "nodes": "10",
        "memory": null,
        "sockets_per_node": null,
        "ntasks_per_socket": null,
        "mem_per_gpu": null,
        "mem_per_cpu": null,
        "gres_flags": null
    },
    "versions": {}
}