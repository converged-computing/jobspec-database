{
    "application": "pathseq",
    "software": [
        "samtools",
        "java",
        "gatk"
    ],
    "modules": [
        "samtools",
        "java/1.8.0_45-fasrc01"
    ],
    "environment_variables": {
        "JVM_ARGS": "-Xms1024m -Xmx1024m",
        "GATK_HOME": "/home/abd30/gatk-4.0.3.0",
        "BASEDIR": "/data/shenlab/abd/TCGA_microbiome",
        "HOSTDIR": "$BASEDIR/pathseq_bundle/host_ref",
        "PATHDIR": "$BASEDIR/pathseq_bundle/pathogen_ref",
        "TOKENFILE": "$1",
        "MANIFEST": "$2",
        "LINENUM": "$SLURM_ARRAY_TASK_ID",
        "ASSAY": "$( echo $MANIFEST | cut -d '.' -f2 )",
        "PROJECT": "$( echo $MANIFEST | cut -d '.' -f3 )",
        "TOKEN": "$( cat $TOKENFILE )",
        "OUTDIR": "$BASEDIR/pathseq_out/$PROJECT/$ASSAY",
        "TMPDIR": "$BASEDIR/tmp/$PROJECT/$ASSAY",
        "QCINDIR": "$OUTDIR/flagstats",
        "QCOUTDIR": "$OUTDIR/flagstats_out",
        "MIN": "$3",
        "UUID": "$(cut -f1 $2 | sed -n $(($LINENUM + 2))p)",
        "FILENAME": "$(cut -f2 $2 | sed -n $(($LINENUM + 2))p)",
        "FILEPATH": "$TMPDIR/$FILENAME",
        "ID": "${FILENAME/.bam/}",
        "BAMOUT": "$OUTDIR/${ID}.${MIN}.pathseq.bam",
        "SCOREOUT": "$OUTDIR/${ID}.${MIN}.scores.txt",
        "FILTERMETRICS": "$OUTDIR/${ID}.${MIN}.filter_metrics.txt",
        "SCOREMETRICS": "$OUTDIR/${ID}.${MIN}.scores_metrics.txt",
        "QCIN": "$QCINDIR/${ID}.${MIN}.flagstats.txt",
        "QCOUT": "$QCOUTDIR/${ID}.${MIN}.flagstats_out.txt",
        "FILESIZE": "du -h $FILEPATH"
    },
    "resources": {
        "gres": null,
        "cpus_per_task": "16",
        "tasks": null,
        "ntasks_per_code": null,
        "gpus": null,
        "gpus_per_node": null,
        "cores_per_socket": null,
        "gpus_per_task": null,
        "exclusive": null,
        "cpus_per_gpu": null,
        "gpu_type": null,
        "time": "00:00:00",
        "ntasks_per_node": null,
        "nodes": null,
        "memory": "256Gb",
        "sockets_per_node": null,
        "ntasks_per_socket": null,
        "mem_per_gpu": null,
        "mem_per_cpu": null,
        "gres_flags": null
    },
    "versions": {}
}